(()=>{var e={n:t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return e.d(r,{a:r}),r},d:(t,r)=>{for(var o in r)e.o(r,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:r[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};(()=>{"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},r.apply(this,arguments)}e.r(t);const o=flarum.core.compat["forum/app"];var n=e.n(o);const s=flarum.core.compat["common/extend"],a=flarum.core.compat["common/components/Select"];var i=e.n(a);const l=flarum.core.compat["forum/components/SettingsPage"];var u=e.n(l);n().initializers.add("blomstra/digest",(function(){(0,s.extend)(u().prototype,"notificationsItems",(function(e){var t,o=this;e.add("digestFrequency",m(".Form-group",[m("label",n().translator.trans("blomstra-digest.forum.settings.frequency")),i().component({options:{immediate:n().translator.trans("blomstra-digest.forum.settings.frequencyOptions.immediate"),daily:n().translator.trans("blomstra-digest.forum.settings.frequencyOptions.daily"),weekly:n().translator.trans("blomstra-digest.forum.settings.frequencyOptions.weekly")},value:this.user.attribute("digestFrequency")||"immediate",onchange:function(e){"immediate"===e&&(e=null),o.digestFrequencyLoading=!0;var t={digestFrequency:e},n=o.user.preferences();"flarum-subscriptions.notify_for_all_posts"in n&&(t.preferences=r({},n,{"flarum-subscriptions.notify_for_all_posts":!!e})),o.user.save(t).then((function(){o.digestFrequencyLoading=!1,m.redraw()}))},disabled:this.digestFrequencyLoading},n().translator.trans("flarum-subscriptions.forum.settings.follow_after_reply_label"))])),e.has("notifyForAllPosts")&&this.user.attribute("digestFrequency")&&null!=(t=this.user.preferences())&&t["flarum-subscriptions.notify_for_all_posts"]&&(e.get("notifyForAllPosts").attrs.disabled=!0)}))}))})(),module.exports=t})();
//# sourceMappingURL=forum.js.map